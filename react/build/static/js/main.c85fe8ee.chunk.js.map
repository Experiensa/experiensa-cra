{"version":3,"sources":["components/catalog.js","App.js","serviceWorker.js","index.js"],"names":["Panel","Collapse","Catalog","res","price","formattedPrice","Number","toLocaleString","style","currency","minimumFractionDigits","moment","locale","date_from","start_date","format","date_to","end_date","countries","toString","slogan","toLowerCase","console","log","image","thumbnail","title","react_default","a","createElement","className","description","number_of_days","number_of_nights","url","link","index_es","app","credentials","analytics","row","gutter","padding","col","xs","sm","md","lg","xl","collapse","bordered","defaultActiveKey","header","key","componentId","dataField","marginBottom","placeholder","range","start","end","rangeLabels","defaultSelected","stepValue","fieldWeights","highlightField","pagination","pages","size","loader","react","and","onData","this","myList","onNoResults","React","Component","Header","Layout","Content","Footer","App","layout","position","zIndex","width","menu","theme","mode","defaultSelectedKeys","lineHeight","Item","marginTop","catalog","textAlign","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App_0","document","getElementById","URL","process","href","origin","addEventListener","concat","fetch","response","contentType","headers","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.c85fe8ee.chunk.js","sourcesContent":["import React from 'react';\n\nimport { ReactiveBase, DataSearch, MultiList, SelectedFilters,\n  //ReactiveList,\n  RangeSlider,\n  ResultCard\n} from '@appbaseio/reactivesearch';\nimport moment from 'moment';\nimport 'moment/locale/fr';\nimport { Row, Col,\n  //Card,\n  Collapse\n  //Tree,\n  //List,\n  //Icon\n} from 'antd';\n\n\nimport 'antd/dist/antd.css';\n\n//import ExpandCollapse from 'react-expand-collapse';\n\nimport './styles.css';\n\n//const { Meta } = Card;\n//const { TreeNode } = Tree;\n\n// const renderAsTree = (res, key = '0') => {\n//   if (!res) return null;\n//   console.log(res);\n//   const iterable = Array.isArray(res) ? res : Object.keys(res);\n//   return iterable.map((item, index) => {\n//     const type = typeof res[item];\n//     if (type === 'string' || type === 'number') {\n//       return (\n//         <TreeNode\n//           title={\n//             <div>\n//               <span>{item}:</span>&nbsp;\n//                 <span dangerouslySetInnerHTML={{ __html: res[item] }} />\n//               </div>\n//             }\n//             key={key + \"-\" + (index + 1)}\n//             />\n//         );\n//       }\n//       const hasObject = (res[item] === undefined && typeof item !== 'string');\n//       const node = hasObject ? item : res[item];\n//       return (\n//         <TreeNode title={typeof item !== 'string' ? 'Object' : '' + (node || Array.isArray(res) ? item : item + ': null')} key={key + \"-\" + (index + 1)}>\n//           {renderAsTree(node, key + \"-\" + (index + 1))}\n//         </TreeNode>\n//       );\n//     });\n//   };\n\nconst Panel = Collapse.Panel;\n\n// function onData(res) {\n//   return (\n//     <div className=\"list-item\" key={res._id}>\n//       <ExpandCollapse previewHeight=\"390px\" expandText=\"Show more\">\n//         {\n//           <Tree showLine>{renderAsTree(res)}</Tree>\n//         }\n//       </ExpandCollapse>\n//     </div>\n//   );\n// };\n\n\n\nclass Catalog extends React.Component {\n\n\n  myList(res){\n    if (!res) return null;\n\n    var price = res.price;\n    var formattedPrice = Number(price).toLocaleString(\"de-CH\", {style: \"currency\", currency: \"CHF\", minimumFractionDigits:0});\n\n    moment.locale('fr');\n    var date_from = moment(res.start_date).format('ll');\n    var date_to = moment(res.end_date).format('ll');\n    let countries = res.countries;\n\n    if (countries == null) {\n      countries = \"\";\n    } else {\n      countries.toString();\n    }\n\n    let slogan = res.slogan;\n    if (res.slogan == null) {\n      slogan = \"\";\n    }else{\n      slogan = slogan.toLowerCase();\n    }\n\n    console.log(slogan);\n\n    console.log(countries);\n\n    return {\n      image: res.thumbnail,\n      title: (<h3 className=\"tc f3 lh-title avenir\">{res.title}</h3>),\n      description: (\n        <div className=\"tc\">\n          <p>{date_from} - {date_to}</p>\n          <p>{res.number_of_days} jours/{res.number_of_nights} nuits</p>\n          <div className=\"card_price\">{formattedPrice}</div>\n          <br/>\n          <span className=\"slogan\">{slogan}</span>\n\n          <br/>\n        </div>\n      ),\n      url: res.link,\n    }\n  };\n\n  render() {\n    return (\n      <ReactiveBase app=\"expch\" credentials=\"qQXEi6aBt:60a7f2e1-ad20-4e80-95d4-879e23804e49\" url=\"https://scalr.api.appbase.io\" analytics>\n        <Row gutter={16} style={{ padding: 0 }}>\n          <Col xs={24} sm={24} md={5} lg={6} xl={6}>\n            <Collapse bordered={false} defaultActiveKey={['1']}>\n              <Panel header=\"Regions du monde\" key=\"1\">\n                <MultiList componentId=\"list-region\" dataField=\"region.keyword\" style={{marginBottom: 20}} placeholder=\"Rechercher une region du monde\"/>\n              </Panel>\n              <Panel header=\"Pays\" key=\"2\">\n                <MultiList componentId=\"list-country\" dataField=\"countries.keyword\" style={{ marginBottom: 20 }} placeholder=\"Rechercher un pays\"/>\n              </Panel>\n              <Panel header=\"Themes\" key=\"3\">\n                <MultiList componentId=\"list-theme\" dataField=\"themes.keyword\" style={{ marginBottom: 20 }} placeholder=\"Rechercher un thème\"/>\n              </Panel>\n              <Panel header=\"Tour operateurs\" key=\"4\">\n                <MultiList componentId=\"list-operator\" dataField=\"operator.keyword\" style={{ marginBottom: 20 }}/>\n              </Panel>\n              <Panel header=\"Prix\" key=\"5\">\n                <RangeSlider\n                  componentId=\"PriceSensor\"\n                  dataField=\"price\"\n                  title=\"Price Range\"\n                  range={{ start: 50, end: 5000 }}\n                  rangeLabels={{start: \"CHF 50\",end: \"CHF 5000\"}}\n                  defaultSelected={{start: 50, end: 4500}}\n                  stepValue={10}\n                  />\n              </Panel>\n            </Collapse>\n            <br/>\n          </Col>\n          <Col xs={24} sm={24} md={19} lg={18} xl={18}>\n            <DataSearch\n              componentId=\"search\"\n              dataField={['title','tags','locations', 'country']}\n              fieldWeights={[1,1,1]}\n              highlightField={['genres']}\n              style={{ marginBottom: 15 }}\n              placeholder=\"Recherche\"\n              />\n            <SelectedFilters />\n\n            <ResultCard\n              componentId=\"ResultCard\"\n              dataField=\"title\"\n              pagination={true}\n              pages={5}\n              size={20}\n              loader=\"Chargement des résultats...\"\n              react={{and: ['list-region','list-country','list-theme','list-operator','PriceSensor','search']}}\n              onData={this.myList}\n              className={'voyage-card'}\n              onNoResults=\"Nous n'avons trouvé aucun résultat\"\n              />\n          </Col>\n        </Row>\n      </ReactiveBase>\n    );\n  }\n}\n\n// <ReactiveList\n//   componentId=\"result\"\n//   dataField=\"genres.keyword\"\n//   onData={myList}\n//   pagination={true}\n//   react={{and: ['list-1','list-3','search']}}\n//   size={5}\n//   style={{ marginTop: 20 }}\n//   />\n//\n// //               <DateRange\n//               dataField=\"date_from\"\n//               componentId=\"DateRangeSensor\"\n//               title=\"Periode\"\n//               numberOfMonths={1}\n//               queryFormat=\"date\"\n//               />\nexport default Catalog;\n","import React, { Component } from 'react';\nimport { Layout, Menu,\n//  Breadcrumb\n} from 'antd';\n//import logo from './logo.svg';\n\nimport Catalog from './components/catalog';\n// import Form from './components/steps';\n//           <Form/>\nimport './App.css';\nimport 'antd/dist/antd.css';\n\nconst { Header, Content, Footer } = Layout;\n\nclass App extends Component {\n  render() {\n    return (\n      <Layout className=\"layout\">\n        <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n          <div className=\"logo\" />\n          <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['1']} style={{ lineHeight: '64px'}}>\n            <Menu.Item key=\"1\">Experiensa</Menu.Item>\n          </Menu>\n        </Header>\n        <Content style={{ padding: '0 50px', marginTop: 85 }}>\n          <Catalog/>\n          <br/>\n          <hr/>\n          <br/>\n        </Content>\n        <Footer style={{ textAlign: 'center' }}>\n          Experiensa ©2018 Created by Sevinci Sàrl\n        </Footer>\n      </Layout>\n    );\n  }\n}\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport './index.css';\nimport 'antd/dist/antd.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n//serviceWorker.unregister();\nserviceWorker.register();\n"],"sourceRoot":""}